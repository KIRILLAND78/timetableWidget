# Cinnamon Desklet - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ß—É–≤–ì–£

–í–∏–¥–∂–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π –¥–ª—è Cinnamon Desktop Environment (Linux Mint, Debian + Cinnamon, –∏ –¥—Ä.)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Linux Mint 19+ –∏–ª–∏ –¥—Ä—É–≥–æ–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ —Å Cinnamon Desktop
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π TimetableWidget Backend API –Ω–∞ `http://localhost:5678`

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å desklet

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å desklet –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–∞–ø–∫—É
cp -r timetable@chuvsu ~/.local/share/cinnamon/desklets/

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫—É
cd CinnamonDesklet
chmod +x install.sh
./install.sh
```

**–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ —Å —Å–∏–º–≤–æ–ª–∞–º–∏ `\r`:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ dos2unix –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª
sudo apt install dos2unix   # Debian/Ubuntu
# –∏–ª–∏
sudo dnf install dos2unix   # Fedora/RHEL

dos2unix install.sh
chmod +x install.sh
./install.sh
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend

```bash
cd TimetableWidget.Backend
dotnet run
```

Backend –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ `http://localhost:5678`

### 3. –î–æ–±–∞–≤–∏—Ç—å desklet –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª

1. **–ü–ö–ú –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç—ã**
2. –í—ã–±—Ä–∞—Ç—å –≤–∫–ª–∞–¥–∫—É **"Desklets"**
3. –ù–∞–π—Ç–∏ **"–ß—É–≤–ì–£ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"**
4. –ù–∞–∂–∞—Ç—å **"+"** —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

1. **–ö–ª–∏–∫–Ω–∏—Ç–µ –ª–µ–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏** –Ω–∞ –≤–∏–¥–∂–µ—Ç
2. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. –í–≤–µ–¥–∏—Ç–µ **email** –∏ **–ø–∞—Ä–æ–ª—å** –æ—Ç –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ –ß—É–≤–ì–£
4. –ù–∞–∂–º–∏—Ç–µ **"–í–æ–π—Ç–∏"**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

**–ü–ö–ú –Ω–∞ –≤–∏–¥–∂–µ—Ç** ‚Üí **"Configure..."**

–î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **–ü–æ–¥–≥—Ä—É–ø–ø–∞** - —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø–æ–¥–≥—Ä—É–ø–ø–µ (0 = –≤—Å–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã)
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –æ—Ç 0% (–Ω–µ–≤–∏–¥–∏–º—ã–π) –¥–æ 100% (–Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π)
- **URL –±—ç–∫–µ–Ω–¥–∞** - –∞–¥—Ä–µ—Å API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:5678`)
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –∫–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**: –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–í—Ä—É—á–Ω—É—é**: –ª–µ–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –≤–∏–¥–∂–µ—Ç

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
~/.local/share/cinnamon/desklets/timetable@chuvsu/
‚îú‚îÄ‚îÄ metadata.json          # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ desklet
‚îú‚îÄ‚îÄ desklet.js             # –ì–ª–∞–≤–Ω—ã–π –∫–æ–¥ (JavaScript/GJS)
‚îú‚îÄ‚îÄ settings-schema.json   # –°—Ö–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è Cinnamon
‚îî‚îÄ‚îÄ stylesheet.css         # –°—Ç–∏–ª–∏ –≤–∏–¥–∂–µ—Ç–∞
```

## üé® –í–Ω–µ—à–Ω–∏–π –≤–∏–¥

–í–∏–¥–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
- üìÖ **–ó–∞–≥–æ–ª–æ–≤–æ–∫** - "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è/–∑–∞–≤—Ç—Ä–∞"
- üìö **–î–æ 5 –ø–∞—Ä** —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã
  - –í—Ä–µ–º—è (–Ω–∞—á–∞–ª–æ - –∫–æ–Ω–µ—Ü)
  - –ê—É–¥–∏—Ç–æ—Ä–∏—è
  - –¢–∏–ø –∑–∞–Ω—è—Ç–∏—è (–õ–µ–∫, –ü—Ä –∏ —Ç.–¥.)
- üìä **–°—Ç–∞—Ç—É—Å** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## üîß –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ Cinnamon
tail -f ~/.xsession-errors

# –ò–ª–∏ —á–µ—Ä–µ–∑ Looking Glass
# Alt + F2 ‚Üí –≤–≤–µ–¥–∏—Ç–µ "lg" ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Results"
```

### –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ desklet

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Cinnamon
Ctrl + Alt + Esc

# –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É
cinnamon --replace &
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ backend

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:5678/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
curl http://localhost:5678/api/auth/status
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—Ö–æ–¥–∞" –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç

- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: `curl http://localhost:5678/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö desklet

### –î–∏–∞–ª–æ–≥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f ~/.xsession-errors`
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Cinnamon: `Ctrl + Alt + Esc`

### "–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"

- Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall: `sudo ufw status`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### –ü—É—Å—Ç–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É **–ü–æ–¥–≥—Ä—É–ø–ø–∞** (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å 0)
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã
- –û–±–Ω–æ–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é (–∫–ª–∏–∫ –Ω–∞ –≤–∏–¥–∂–µ—Ç)

## üìù API Backend

Desklet –æ–±—â–∞–µ—Ç—Å—è —Å backend —á–µ—Ä–µ–∑ REST API:

- `POST /api/auth/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /api/auth/status` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- `GET /api/timetable/today` - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `GET /api/settings` - –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `PUT /api/settings` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü–∞—Ä–æ–ª—å **–Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è** –≤ desklet
- –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ backend –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ localhost

## üë• –ê–≤—Ç–æ—Ä—ã

- **–ö–æ–¥ –≤–∏–¥–∂–µ—Ç–∞**: –ö–∞–∑–∞–∫–æ–≤ –ö–∏—Ä–∏–ª–ª –í–∞–ª–µ—Ä—å–µ–≤–∏—á, –ö–¢-31-21
- **API —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è**: –ü–µ—Ç—Ä—è–Ω–∫–∏–Ω –î–∞–Ω–∏–∏–ª –ï–≤–≥–µ–Ω—å–µ–≤–∏—á, –ö–¢-31-21
- **–î–∏–∑–∞–π–Ω**: –ì–∞–≤—Ä–∏–ª–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á, –ö–¢-42-20

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–°–º. —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –ß—É–≤–ì–£:
- [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ](https://online.chuvsu.ru/doc/user_agreement)
- [–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏](https://online.chuvsu.ru/doc/privacy_policy)
